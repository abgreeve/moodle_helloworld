{"version":3,"sources":["../src/hello_post_delete.js"],"names":["init","document","body","addEventListener","e","values","cardelements","target","parentNode","getElementsByClassName","nextElementSibling","nextelementattr","attributes","length","push","getNamedItem","value","promise","Ajax","call","methodname","args","timecreated","parseInt","userid","then","results","window","console","log","redirect","Config","webroot","location","reload","fail","failure"],"mappings":"+KAMA,OACA,O,0DAEoB,QAAPA,CAAAA,IAAO,EAAM,CAEtBC,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,CAAwC,SAACC,CAAD,CAAO,IACvCC,CAAAA,CAAM,CAAG,EAD8B,CAErCC,CAAY,CAAGF,CAAC,CAACG,MAAF,CAASC,UAAT,CAAoBC,sBAApB,CAA2C,WAA3C,CAFsB,CAG3C,GAAoC,IAAhC,GAAAL,CAAC,CAACG,MAAF,CAASG,kBAAb,CAA0C,CACtC,GAAMC,CAAAA,CAAe,CAAGP,CAAC,CAACG,MAAF,CAASG,kBAAT,CAA4BE,UAApD,CACA,GAA4B,CAAxB,GAAAN,CAAY,CAACO,MAAb,EAAuD,CAA1B,EAAAF,CAAe,CAACE,MAAjD,CAA8D,CAC1DR,CAAM,CAACS,IAAP,CAAYV,CAAC,CAACG,MAAF,CAASG,kBAAT,CAA4BE,UAA5B,CAAuCG,YAAvC,CAAoD,aAApD,EAAmEC,KAA/E,EACAX,CAAM,CAACS,IAAP,CAAYV,CAAC,CAACG,MAAF,CAASG,kBAAT,CAA4BE,UAA5B,CAAuCG,YAAvC,CAAoD,QAApD,EAA8DC,KAA1E,CACH,CACD,GAAqB,CAAjB,EAAAX,CAAM,CAACQ,MAAX,CAAwB,CACpB,GAAII,CAAAA,CAAO,CAAGC,UAAKC,IAAL,CAAU,CACpB,CACIC,UAAU,CAAE,+BADhB,CAEIC,IAAI,CAAE,CAACC,WAAW,CAAEC,QAAQ,CAAClB,CAAM,CAAC,CAAD,CAAP,CAAtB,CAAmCmB,MAAM,CAAED,QAAQ,CAAClB,CAAM,CAAC,CAAD,CAAP,CAAnD,CAFV,CADoB,CAAV,CAAd,CAOAY,CAAO,CAAC,CAAD,CAAP,CAAWQ,IAAX,CAAgB,SAASC,CAAT,CAAkB,CAC9BC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBH,CAAnB,EACA,GAAII,CAAAA,CAAQ,CAAGC,UAAOC,OAAP,CAAiB,kBAAhC,CACAL,MAAM,CAACM,QAAP,CAAgBC,MAAhB,CAAuBJ,CAAvB,CACH,CAJD,EAIGK,IAJH,CAIQ,SAAUC,CAAV,CAAmB,CACvBT,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBO,CAAnB,CACH,CAND,CAOH,CACJ,CACJ,CA1BD,CA2BH,C","sourcesContent":["/**\n * @package local_helloworld\n * @copyright 2021 Sujith\n * @license GPLv3\n */\n\nimport Ajax from 'core/ajax';\nimport Config from 'core/config';\n\nexport const init = () => {\n\n    document.body.addEventListener('click', (e) => {\n        let values = [];\n        const cardelements = e.target.parentNode.getElementsByClassName('card-text');\n        if (e.target.nextElementSibling !== null) {\n            const nextelementattr = e.target.nextElementSibling.attributes;\n            if (cardelements.length === 2 && nextelementattr.length == 3) {\n                values.push(e.target.nextElementSibling.attributes.getNamedItem('timecreated').value);\n                values.push(e.target.nextElementSibling.attributes.getNamedItem('userid').value);\n            }\n            if (values.length == 2) {\n                let promise = Ajax.call([\n                    {\n                        methodname: 'local_helloworld_delete_posts',\n                        args: {timecreated: parseInt(values[0]), userid: parseInt(values[1])}\n                    }\n                ]);\n\n                promise[0].then(function(results) {\n                    window.console.log(results);\n                    let redirect = Config.webroot + 'local/helloworld';\n                    window.location.reload(redirect);\n                }).fail(function (failure) {\n                    window.console.log(failure);\n                });\n            }\n        }\n    });\n};"],"file":"hello_post_delete.min.js"}